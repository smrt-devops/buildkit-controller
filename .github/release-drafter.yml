name-template: "v$RESOLVED_VERSION"
tag-template: "v$RESOLVED_VERSION"

categories:
  - title: "ğŸš€ Features"
    labels:
      - "feature"
      - "enhancement"
  - title: "ğŸ› Bug Fixes"
    labels:
      - "fix"
      - "bugfix"
      - "bug"
  - title: "ğŸ“š Documentation"
    labels:
      - "documentation"
      - "docs"
  - title: "ğŸ”§ Maintenance"
    labels:
      - "chore"
      - "maintenance"
      - "dependencies"
  - title: "â™»ï¸ Refactoring"
    labels:
      - "refactor"
  - title: "âš¡ Performance"
    labels:
      - "performance"
  - title: "ğŸ§ª Testing"
    labels:
      - "test"
      - "testing"

change-template: "- $TITLE @$AUTHOR (#$NUMBER)"

change-title-escapes: '\<*_&'

version-resolver:
  major:
    labels:
      - "major"
      - "breaking"
  minor:
    labels:
      - "minor"
      - "feature"
  patch:
    labels:
      - "patch"
      - "fix"
      - "bugfix"
      - "bug"

autolabeler:
  - label: "documentation"
    files:
      - "*.md"
      - "docs/**/*"
  - label: "test"
    files:
      - "*_test.go"
      - "**/*test*"
  - label: "helm"
    files:
      - "helm/**/*"
  - label: "ci"
    files:
      - ".github/workflows/**/*"
      - ".github/**/*.yml"
      - ".github/**/*.yaml"

exclude-labels:
  - "skip-changelog"
  - "no-changelog"

template: |
  ## Changes

  $CHANGES

  ## Installation

  ### Helm Chart

  ```bash
  helm install buildkit-controller \
    oci://ghcr.io/$OWNER/$REPOSITORY/charts/buildkit-controller \
    --version $RESOLVED_VERSION \
    --namespace buildkit-system \
    --create-namespace
  ```

  ### Docker Images

  ```bash
  docker pull ghcr.io/$OWNER/$REPOSITORY/buildkit-controller:$RESOLVED_VERSION
  docker pull ghcr.io/$OWNER/$REPOSITORY/buildkit-controller/auth-proxy:$RESOLVED_VERSION
  ```

  ## Full Changelog

  $FULL_CHANGELOG
